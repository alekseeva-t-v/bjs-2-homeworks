# Классы
Домашнее задание к лекции 5 «Классы» курса [«JavaScript-программирование для начинающих»](https://cat.2035.university/rall/course/18787/?project_id=48).

## Задача 1. Печатное издание

Задача продолжает идеи, заложенные в предыдущем ДЗ, но уже с использованием всех возможностей классов.

Нужно помочь перевести небольшую районную библиотеку в современный цифровой формат. Начнём с реализации нескольких классов:

- классы печатных изданий — книг, журналов;
- класс библиотеки, который позволит работать с печатными изданиями: хранить их, выдавать читателям, принимать обратно.

### Процесс реализации

Печатные издания бывают разных видов, но между всеми книгами, сборниками и журналами есть много общего: у всех них есть название, год издания, страницы, они могут повреждаться с процессе использования.

1. Создан базовый класс `PrintEditionItem` со свойствами:

   - `name`;
   - `releaseDate`;
   - `pagesCount`;
   - `state`;
   - `type`.

 Конструктор класса принимает название (`name`), дату выпуска (`releaseDate`) и количество страниц (`pagesCount`) в качестве аргумента. Состояние (`state`) по умолчанию должно быть `100`, тип `type` пока должен быть равен `null`.

2. Испорченное издание можно подклеить и улучшить его состояние. Создан метод `fix()`, увеличивающий `state` в полтора раза. Метод не принимает аргументы.

3. Нельзя улучшить новое издание, также бесполезно подклеивать полностью уничтоженное. Чтобы лучше контролировать состояние книг, создан «сеттер» для свойства `state`, принимающий в качестве аргумента новое состояние печатного издания (число).

   Если новое состояние меньше `0`, «сеттер» должен записать в свойство `state` значение `0`. Если новое состояние больше `100`, должно быть записано значение `100`. В остальных случаях в свойство `state` должно быть записано переданное в «сеттер» значение.

4. Создан «геттер», который позволит читать значение свойства `state`.

 **Пример использования**

 ```js
const sherlock = new PrintEditionItem(
  "Полное собрание повестей и рассказов о Шерлоке Холмсе в одном томе",
  2019,
  1008
);

 console.log(sherlock.releaseDate); //2019
console.log(sherlock.state); //100
sherlock.fix();
console.log(sherlock.state); //100
```

5. Создайн класс `Magazine`, который будет наследоваться от класса `PrintEditionItem`. Конструктор класса принимает такие же параметры, как и класс-родитель. От базового печатного издания журнал отличается только указанным типом. Значение свойства `type` должно быть равно `"magazine"`.

6. Создан класс `Book`, который наследуется от класса `PrintEditionItem`. Конструктор класса принимает такие же параметры, как и класс-родитель, и имя автора книги `author`. Значение свойства `type` равно `"book"`.

7. Созданы классы, которые наследуются от класса `Book`: `NovelBook` — для романов, `FantasticBook` — для фантастических произведений и `DetectiveBook` — для детективов. Значения свойства `type` равны `"novel"`, `"fantastic"` и `"detective"` соответственно.

**Пример использования**

```js
const picknick = new FantasticBook(
  "Аркадий и Борис Стругацкие",
  "Пикник на обочине",
  1972,
  168
);

console.log(picknick.author); //"Аркадий и Борис Стругацкие"
picknick.state = 10;
console.log(picknick.state); //10
picknick.fix();
console.log(picknick.state); //15
```

## Задача 2. Библиотека

Теперь с помощью классов можно описать все возможные печатные издания, которые бывают в библиотеке. Пришло время подготовить саму библиотеку к работе в цифровом режиме — реализовать возможность хранить книги, выдавать их читателям и принимать обратно.

### Процесс реализации

1. Создан класс `Library` со свойствами:

   - `name`;
   - `books`.

   Конструктор класса принимает название библиотеки `name` (строка). Значением свойства `books` - пустой массив.

2. Реализован метод `addBook(book)`, который в качестве аргумента принимает объект — книгу или журнал. Метод добавляет книгу в хранилище `books`, только если состояние `state` книги больше `30`.

3. Создан метод `findBookBy(type, value)`, который в качестве аргументов принимает ключ для проведения поиска (тип, автор, название, год выпуска и пр.) и искомое значение. Метод возвращает книгу в случае успеха и `null`, если запрошенная книга не была найдена.

4. Создан метод `giveBookByName(bookName)`, который в качестве аргумента принимает название книги, запрошенной читателем. Если запрошенная книга найдена, метод должен удалять книгу из хранилища `books` и возвращать её. Если книга не была найдена, метод возвращает `null`.

 **Пример использования**

 ```js
const library = new Library("Библиотека имени Ленина");

 library.addBook(
  new DetectiveBook(
    "Артур Конан Дойл",
    "Полное собрание повестей и рассказов о Шерлоке Холмсе в одном томе",
    2019,
    1008
  )
);
library.addBook(
  new FantasticBook(
    "Аркадий и Борис Стругацкие",
    "Пикник на обочине",
    1972,
    168
  )
);
library.addBook(new NovelBook("Герберт Уэллс", "Машина времени", 1895, 138));
library.addBook(new Magazine("Мурзилка", 1924, 60));

 console.log(library.findBookBy("name", "Властелин колец")); //null
console.log(library.findBookBy("releaseDate", 1924).name); //"Мурзилка"

 console.log("Количество книг до выдачи: " + library.books.length); //Количество книг до выдачи: 4
library.giveBookByName("Машина времени");
console.log("Количество книг после выдачи: " + library.books.length); //Количество книг после выдачи: 3
```

5. Протестирована корректность работы классов и методов, для этого реализован тестовый сценарий:
   - создана библиотека;
   - добавлены в библиотеку несколько печатных изданий разных типов;
   - найдена книга, изданная в 1919 году, или создана при необходимости;
   - выдана любая книга;
   - повреждена выданная книга;
   - восстановлена выданная книга;
   - произведена попытка добавить восстановленную книгу обратно в библиотеку.

## Задача 3. Журнал успеваемости

Мы продолжаем совершенствовать журнал успеваемости студентов. Нужно преобразовать код прошлого ДЗ к классам. Реализовать возможности:

1. В конструкторе класса сохраняется имя пользователя и создавано свойство для хранения оценок.

Удобней всего хранить оценки ввиде объекта, где свойством будет название предмета, а значением свойства — массив оценок по этому предмету. Начальным значением будет пустой объект.

    {
      "физика": [4, 5, 5, 4],
      "химия": [3, 4],
      "литература": [4],
      "ифнорматика": [5, 5, 5]
    }

1. Метод `addMark`, который добавляет оценку по предмету.

 * Валидируем оценку. Она должна быть не меньше 2 и не больше 5. Если значение выходит за пределы этого диапазона, оценка не должна добавиться, и метод завершается.
 * Проверяется наличие предмета. Если предмет отсутствует в свойстве `marks`, то добавляется новое свойство, названием которого будет название предмета, а значением — пустой массив.
  * Добавляется в массив оценок по переданному свойству новый элемент, который был получен аргументом метода.

2. Метод `getAverageBySubject`, который возвращает среднюю оценку по одному предмету.
    * Проверяется наличие предмета среди оценок. Если предмет отсутствует, сразу возвращайте ноль.
    * С помощью `reduce` рассчитывается сумма оценок по одному предмету.
    * Возвращается результат деления суммы оценок на их количество.

3. Метод `getAverage`, который возвращает общую среднюю оценку по всем предметам.
    * Используется метод `Object.keys` для получения всех названий предметов.
    * С помощью метода `reduce` перебираются все предметы. Для каждого считается средняя оценка с помощью метода `getAverageBySubject` и суммируются полученные значения.
    * Возвращается результат деления суммы средних оценок на количество предметов.

Пример работы:

```js
class Student {
  // ваш код
}

const student = new Student("Олег Никифоров");
student.addMark(5, "химия");
student.addMark(5, "химия");
student.addMark(5, "физика");
student.addMark(4, "физика");
student.addMark(6, "физика"); // Оценка не добавится, так как больше 5
student.getAverageBySubject("физика"); // Средний балл по предмету физика 4.5
student.getAverageBySubject("биология"); // Вернёт 0, так как по такому предмету нет никаких оценок.
student.getAverage(); // Средний балл по всем предметам 4.75
```

### Критерии выполнения

- Реализованы все методы, в каждом из которых приведены примеры работы исключительных случаев: неверный формат оценки, несуществующий предмет и т. д.
- Возможно добавление оценки по любому предмету.

## Результат при правильном решении основного задания
![графическое представление](../Jasmine/results/sucessed_tasks_5.png)

## Результат при правильном выполнении дополнительного задания
![графическое представление](../Jasmine/results/sucessed_tasks_5_1.png)

## **Стек технологий**
![JS](./js.svg)
![GIT](./git.svg)

## **[Демо: Основная задача](https://alekseeva-t-v.github.io/bjs-2-homeworks/5.classes/)**

## **[Демо: Дополнительное задание](https://alekseeva-t-v.github.io/bjs-2-homeworks/5.classes/student_tests)**