# Асинхронность
Домашнее задание к лекции 7 «Асинхронность» курса [«JavaScript-программирование для начинающих»](https://cat.2035.university/rall/course/18787/?project_id=48).

## Задача 1. Будильник-колыбельная

Помогите Васе перестать просыпать на пары. Для этого нужно написать программу-будильник-колыбельную с возможностью добавления, удаления, запусков и остановки звонков.

### Процесс реализации

Создан класс **AlarmClock** с методами:

1. `constructor` — выделяет память для объекта.
   * Создает свойство для хранения коллекции звонков `alarmCollection` с начальным значением пустого массива.
   * Создано свойство `intervalId` для хранения `id` таймера без начального значения.

2. `addClock` — добавляет новый звонок в коллекцию существующих.
   * Принимает параметр времени в формате `HH:MM` — время, когда действие должно запуститься.
   * Принимает параметр функции-колбека — действие, которое должно запуститься.
   * Проверяется, переданы ли параметры времени и колбека. Если параметр не передан, выполняется выброс ошибки с помощью `throw new Error('Отсутствуют обязательные аргументы')`.
   * Проверяется, есть ли звонок с таким же временем. Если есть, выводится предупреждение в консоль с помощью `console.warn('Уже присутствует звонок на это же время')`.
   * Перед завершением метода добавляется в массив звонков объект со свойствами `callback`, `time`, `canCall`. В свойстве `canCall` находится значение запуска функции колбека. Изначально значением должно быть `true`.

3. `removeClock` — удаляет звонки по определённому времени.
   * Принимает `time` звонка, который следует удалить.
   * Удаляет из массива звонков те, у которых `time` совпадает со значением аргумента. Например, можно использовать метод `filter`.

4. `getCurrentFormattedTime` — возвращает текущее время в строковом формате `HH:MM`.

5. `start` — запускает будильник.
   * Проверяет наличие значения в свойстве `intervalId`. Если в нём присутствует значение, то завершает выполнение метода. Программа не позволяет создавать несколько интервалов.
   * Создает новый интервал, в котором каждую секунду выполняются действия:
     - Перебирает все звонки с помощью метода `forEach`.
     - При переборе каждый звонок проверяется на возможность его запуска: *свойство `time` совпадает с текущим временем, и звонок может выполняться (в свойстве `canCall` находится `true`)*.
     - При истином условии (необходимости запуска звонка) в свойство `canCall` (возможность вызова звонка) присваивается `false` и вызывается колбек звонка (свойство `callback`).
  * Результат создания интервала сохраняется в свойство `intervalId`.

6. `stop` — останавливает выполнение интервала будильника.
   * Вызывает функцию `clearInterval` для удаления интервала.
   * Сбрасывет значение из свойства `intervalId`. Для сброса свойства присваивается `null`.

7. `resetAllCalls` — сбрасывает возможность запуска всех звонков.
   * С помощью метода `forEach` присваивается `true` в свойство `canCall` у каждого звонка.

8. `clearAlarms` — удаляет все звонки.
   * Вызывает метод остановки интервала (метод `stop`).
   * Удаляет все звонки. Для удаления всех звонков переприсваивается свойство `alarmCollection` в пустой массив.

## Результат при правильном решении задания
![графическое представление](../Jasmine/results/sucessed_tasks_7.png)

## **Стек технологий**
![JS](./js.svg)
![GIT](./git.svg)

## **[Демо](https://alekseeva-t-v.github.io/bjs-2-homeworks/7.async/)**